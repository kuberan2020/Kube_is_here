<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>For Bettaa ğŸ’˜</title>

  <style>
    :root{
      --bg1:#fff0f6; --bg2:#ffe4ef; --card:rgba(255,255,255,.78);
      --text:#2a2a2a; --accent:#ff2e74; --accent2:#7c3aed;
      --shadow:0 16px 40px rgba(0,0,0,.12); --radius:22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; display:grid; place-items:center;
      padding:24px; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(circle at 15% 20%, #fff 0 14%, transparent 15%),
        radial-gradient(circle at 85% 25%, #fff 0 12%, transparent 13%),
        radial-gradient(circle at 35% 88%, #fff 0 10%, transparent 11%),
        linear-gradient(135deg,var(--bg1),var(--bg2));
    }
    .wrap{width:min(900px,100%)}
    .card{
      background:var(--card);
      border:1px solid rgba(255,255,255,.6);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:26px;
      backdrop-filter:blur(10px);
      position:relative;
      overflow:hidden;
    }
    .pill{
      display:inline-flex; gap:8px; align-items:center;
      padding:8px 12px; border-radius:999px;
      background:rgba(255,46,116,.12); color:#7a0f35;
      font-weight:700; font-size:14px;
      margin-bottom:14px;
    }
    h1{margin:0 0 10px; letter-spacing:.2px}
    p{margin:8px 0 0; line-height:1.55}
    .big{font-size:clamp(30px,4.2vw,48px); margin:10px 0 8px}
    .center{text-align:center}
    .row{display:flex; gap:12px; flex-wrap:wrap; margin-top:18px}
    .row.centered{justify-content:center}
    button{
      border:0; cursor:pointer; font-weight:800;
      padding:12px 16px; border-radius:16px;
      transition:transform .06s ease, filter .2s ease;
      box-shadow:0 10px 20px rgba(0,0,0,.12);
      user-select:none;
    }
    button:hover{filter:brightness(1.03)}
    button:active{transform:translateY(1px)}
    .primary{
      background:linear-gradient(135deg,var(--accent),#ff6aa1);
      color:#fff;
    }
    .secondary{
      background:rgba(124,58,237,.10);
      color:#4b2a9b;
      box-shadow:none;
      border:1px solid rgba(124,58,237,.22);
    }

    /* â¤ï¸ Floating moon-heart */
    .heart{
      font-size:44px;
      filter:drop-shadow(0 10px 14px rgba(255,46,116,.25));
      animation:floaty 2.4s ease-in-out infinite;
    }
    @keyframes floaty { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6px)} }

    /* ğŸ¯ Bigger Yes/No arena */
    .arena{
      position:relative;
      height:420px;          /* bigger playground */
      margin-top:22px;
      border-radius:22px;
      background:rgba(255,255,255,.55);
      border:1px solid rgba(0,0,0,.06);
      overflow:hidden;
    }
    .arena .hint{
      position:absolute; left:14px; top:12px;
      font-size:13px; opacity:.75;
      font-weight:650;
    }
    #noBtn{
      position:absolute;
      left:60%;
      top:70%;
      transform:translate(-50%,-50%);
      white-space:nowrap;
    }
    #yesBtn{
      position:absolute;
      left:50%;
      top:30%;
      transform:translate(-50%,-50%);
      white-space:nowrap;
    }

    /* ğŸŒ™ Moon glow behind video */
    .moon-glow{
      position:relative;
      margin-top:18px;
      border-radius:20px;
      overflow:hidden;
      box-shadow:0 18px 36px rgba(0,0,0,.28);
    }
    .moon-glow::before{
      content:"";
      position:absolute;
      inset:-30px;
      background:
        radial-gradient(circle at 50% 40%,
          rgba(220,230,255,0.55),
          rgba(180,200,255,0.25) 40%,
          rgba(120,140,255,0.10) 60%,
          transparent 72%);
      filter:blur(22px);
      z-index:0;
      pointer-events:none;
    }
    .moon-glow .video-frame{
      position:relative;
      z-index:1;
      width:100%;
      aspect-ratio:16/9;
      border-radius:18px;
      overflow:hidden;
      background:#000;
    }

    /* ğŸ‰ Confetti */
    .confetti{
      position:fixed; inset:0; pointer-events:none; display:none; overflow:hidden;
    }
    .confetti i{
      position:absolute; top:-12px; width:10px; height:14px;
      border-radius:3px; opacity:.95;
      animation:fall 1.5s linear forwards;
    }
    @keyframes fall { to { transform:translateY(110vh) rotate(720deg); } }

    footer{margin-top:14px; font-size:12px; opacity:.65; text-align:center}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card" id="app"></div>
    <footer>Made with tea thoughts ğŸµ and moonlight ğŸŒ™</footer>
  </div>

  <div class="confetti" id="confetti"></div>

  <script>
    // âœ… Personalize here
    const NAME = "Bettaa";
    const YEARS = 10;                 // "almost 10 years"
   
    const confetti = document.getElementById("confetti");

      function welcomeView(){
      app.innerHTML = `
        <div class="pill">ğŸŒ¸ Welcome</div>
        <div class="center">
          <div class="heart">ğŸŒ™ğŸ’—</div>
          <h1 class="big">Hi, ${NAME}.</h1>
          <p>
            Iâ€™ve known you for almost <b>${YEARS} years</b>, and somehow you still manage to be my favorite
            part of the timeline.
          </p>
          <p>
            This is a small page with a big question, steeped like good tea and lit softly by the moon.
          </p>
          <p>
            I know you love tea and adore the moon, so I tried to make this feel like both. ğŸµğŸŒ™
          </p>
          <div class="row centered">
            <button class="primary" onclick="valentineView()">Continue ğŸ’</button>
          </div>
        </div>
      `;
      hideConfetti();
      cleanupPlayer();
    }

    function valentineView(){
      app.innerHTML = `
        <div class="pill">ğŸ’˜ The Question</div>
        <div class="center">
          <h1 class="big">Will you be my Valentine, ${NAME}?</h1>
          <p>(Careful. The â€œNoâ€ button hasâ€¦ commitment issues.)</p>
        </div>

        <div class="arena" id="arena">
          <div class="hint">Move your mouse near â€œNoâ€â€¦ if you can ğŸ˜„</div>
          <button class="primary" id="yesBtn">Yes ğŸ’–</button>
          <button class="secondary" id="noBtn">No ğŸ™ˆ</button>
        </div>

        <div class="center" id="msg" style="margin-top:14px;"></div>

        <div class="row centered">
          <button class="secondary" onclick="welcomeView()">Back</button>
          <button class="secondary" onclick="resetNoButton()">Reset â€œNoâ€</button>
        </div>
      `;

      const arena = document.getElementById("arena");
      const noBtn = document.getElementById("noBtn");
      const yesBtn = document.getElementById("yesBtn");
      const msg = document.getElementById("msg");

      function placeNo(x, y){
        const pad = 12;
        const a = arena.getBoundingClientRect();
        const b = noBtn.getBoundingClientRect();

        const minX = pad;
        const minY = pad;
        const maxX = a.width - b.width - pad;
        const maxY = a.height - b.height - pad;

        const cx = Math.max(minX, Math.min(x, maxX));
        const cy = Math.max(minY, Math.min(y, maxY));

        noBtn.style.left = cx + "px";
        noBtn.style.top  = cy + "px";
        noBtn.style.transform = "translate(0,0)";
      }

      setTimeout(() => {
        placeNo(arena.clientWidth * 0.62, arena.clientHeight * 0.72);
      }, 0);

      function runAway(mouseX, mouseY){
        const a = arena.getBoundingClientRect();
        const b = noBtn.getBoundingClientRect();

        const mx = mouseX - a.left;
        const my = mouseY - a.top;

        const bx = (b.left - a.left) + b.width / 2;
        const by = (b.top  - a.top)  + b.height / 2;

        const dx = bx - mx;
        const dy = by - my;
        const dist = Math.hypot(dx, dy);

        const trigger = 140;

        if (dist < trigger){
          const push = (trigger - dist) * 1.6;
          const ux = dx / (dist || 1);
          const uy = dy / (dist || 1);

          const currentLeft = parseFloat(noBtn.style.left) || (arena.clientWidth * 0.6);
          const currentTop  = parseFloat(noBtn.style.top)  || (arena.clientHeight * 0.7);

          const jitter = 34;
          const nx = currentLeft + ux * push + (Math.random() * jitter - jitter/2);
          const ny = currentTop  + uy * push + (Math.random() * jitter - jitter/2);

          placeNo(nx, ny);
        }
      }

      arena.addEventListener("mousemove", (e) => runAway(e.clientX, e.clientY));
      arena.addEventListener("touchstart", (e) => {
        const t = e.touches[0];
        runAway(t.clientX, t.clientY);
      }, {passive:true});
      arena.addEventListener("touchmove", (e) => {
        const t = e.touches[0];
        runAway(t.clientX, t.clientY);
      }, {passive:true});

      window.resetNoButton = () => {
        msg.innerHTML = "";
        hideConfetti();
        placeNo(arena.clientWidth * 0.62, arena.clientHeight * 0.72);
      };

      yesBtn.addEventListener("click", () => {
        popConfetti();

        msg.innerHTML = `
          <p style="font-weight:900; font-size:18px; margin:0;">
            YES?! ğŸ’— Then itâ€™s official: tea for two, and PLEASE Don't BLOCK MEğŸ™ƒğŸŒ™.
          </p>

          <div class="moon-glow">
          </div>
        `;

        loadYouTubePlayer();
      });

      noBtn.addEventListener("click", () => {
        msg.innerHTML = `
          <p style="font-weight:900; margin:0;">
            You clicked NO?! Respect. Olympic-level precision. Butâ€¦ are you sure? ğŸ˜…
          </p>
        `;
      });
    }

    // ğŸµ YouTube player with volume fade-in
    function loadYouTubePlayer(){
      cleanupPlayer();

      // If YT not ready yet, try shortly
      if (!window.YT || !YT.Player) {
        setTimeout(loadYouTubePlayer, 150);
        return;
      }

      ytPlayer = new YT.Player("ytPlayer", {
        videoId: YT_VIDEO_ID,
        playerVars: {
          autoplay: 1,
          controls: 1,
          modestbranding: 1,
          rel: 0
        },
        events: {
          onReady: (event) => {
            event.target.setVolume(0);
            event.target.playVideo();

            let volume = 0;
            clearInterval(fadeInterval);

            fadeInterval = setInterval(() => {
              volume += 2;                // fade speed
              event.target.setVolume(volume);

              if (volume >= 60) {         // target volume
                clearInterval(fadeInterval);
              }
            }, 120);
          }
        }
      });
    }

    function cleanupPlayer(){
      clearInterval(fadeInterval);
      fadeInterval = null;

      if (ytPlayer && typeof ytPlayer.destroy === "function") {
        try { ytPlayer.destroy(); } catch (e) {}
      }
      ytPlayer = null;
    }

    // ğŸ‰ Confetti
    function popConfetti(){
      confetti.style.display = "block";
      confetti.innerHTML = "";
      for(let i=0;i<140;i++){
        const p = document.createElement("i");
        p.style.left = (Math.random()*100) + "vw";
        p.style.animationDelay = (Math.random()*0.6) + "s";
        p.style.transform = `rotate(${Math.random()*360}deg)`;
        p.style.background = `hsl(${Math.random()*360}, 90%, 60%)`;
        p.style.width = (6 + Math.random()*10) + "px";
        p.style.height = (8 + Math.random()*16) + "px";
        confetti.appendChild(p);
      }
      setTimeout(hideConfetti, 1800);
    }

    function hideConfetti(){
      confetti.style.display = "none";
      confetti.innerHTML = "";
    }

    // Start
    welcomeView();
  </script>
</body>
</html>
